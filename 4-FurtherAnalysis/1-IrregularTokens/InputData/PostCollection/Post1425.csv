I've,tried,to,implement,WebSocket,frame,unmasking,algorithm,(,based,on,this,:,How,can,I,send,and,receive,WebSocket,messages,on,the,server,side,?,),on,the,server,side,.,Here's,what,I've,got,:,However,I,get,very,strange,results,.,On,JavaScript,side,:,produces,on,the,server,side,:,More,calls,to,"w.send(""test"")",;,produces,"[2, 97, 0, 0]",.,Also,first,two,arrays,have,length,>,4,(,number,of,characters,in,word,test,),.,And,none,of,these,gets,converted,to,word,test,.,It,seeems,that,I,must,be,doing,something,wrong,in,my,decoding,code,.,What's,causing,that,?,Any,help,?,EDIT,Have,look,at,raw,frames,:,Of,course,these,numbers,are,a,bit,random,(,due,to,masking,),",",but,note,that,second,byte,(,which,is,supposed,to,represent,the,length,of,payload,),is,134,",",then,133,and,then,always,132,.,Also,first,two,frames,are,longer,then,other,frames,.,What's,going,on,here,?
