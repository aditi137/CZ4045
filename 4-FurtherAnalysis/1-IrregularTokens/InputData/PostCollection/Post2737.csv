The,linear,increase,is,very,much,normal,",",if,the,database,has,to,process,your,queries,sequentially,.,Essentially,",",all,concurrent,requests,get,started,at,the,same,time,",",but,finish,one,after,another,",",so,",",assuming,a,pool,with,a,single,connection,",",60ms,per,request,",",and,10,concurrent,requests,",",you're,going,to,see,requests,taking,60ms,",",120ms,",",180ms,",",240ms,",",300ms,",",360ms,",",420ms,",",480ms,",",540ms,",",600ms,",",600ms,",",...,",",600ms,",",540ms,",",480ms,",",...,.,We,can,calculate,how,much,time,it,takes,for,the,average,request,",",given,n,requests,and,m,concurrent,requests,:,These,numbers,are,similar,to,what,you,are,seeing,.,Now,comes,the,big,question,.,Why,does,the,database,process,queries,almost,sequentially,?,I,can,think,of,a,few,reasons,:,Locking,:,each,started,transaction,needs,to,lock,some,resource,exclusively,so,only,one,(,or,few,),transaction,can,run,at,a,time,CPU-bound,query,:,each,transaction,takes,significant,CPU,resources,so,other,transactions,must,wait,for,CPU,time,Large,table,scans,:,the,database,cannot,keep,the,entirety,of,the,table,in,memory,and,therefore,must,read,from,disk,for,every,transaction,How,do,you,fix,this,?,This,is,a,complicated,question,",",but,a,few,potential,solutions,:,Optimize,your,queries,;,either,optimize,it,so,that,they,don't,all,fight,for,the,same,resource,",",or,",",optimize,it,so,that,they,don't,take,as,long,Batch,your,queries,so,that,you,need,to,run,fewer,in,total,Cache,your,responses,so,that,they,don't,hit,the,database,at,all
