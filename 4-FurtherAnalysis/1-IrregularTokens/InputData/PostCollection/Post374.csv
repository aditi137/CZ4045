You,could,download,the,source,of,BitTorrent,for,starters,and,see,how,they,did,it,.,http://download.bittorrent.com/dl/
