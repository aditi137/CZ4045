,0
0,I
1,'ve
2,tried
3,to
4,implement
5,WebSocket
6,frame
7,unmasking
8,algorithm
9,(based
10,on
11,this: How can I send and receive WebSocket messages on the server side?)
12,on
13,the
14,server
15,side
16,.
17,Here
18,'s
19,what
20,I
21,'ve
22,"got:
However I get very strange results. On JavaScript side:
produces on the server side:
More calls to w.send(""test"")"
23,;
24,produces
25,"[2, 97, 0, 0]"
26,.
27,Also
28,first
29,two
30,arrays
31,have
32,length
33,>4
34,(number
35,of
36,characters
37,in
38,word
39,test
40,).
41,And
42,none
43,of
44,these
45,gets
46,converted
47,to
48,word
49,test
50,.
51,It
52,seeems
53,that
54,I
55,must
56,be
57,doing
58,something
59,wrong
60,in
61,my
62,decoding
63,code
64,.
65,What
66,'s
67,causing
68,that
69,?
70,Any
71,help
72,?
73,EDIT
74,Have
75,look
76,at
77,raw
78,"frames:
Of course these numbers are a bit random (due to masking)"
79,","
80,but
81,note
82,that
83,second
84,byte
85,(which
86,is
87,supposed
88,to
89,represent
90,the
91,length
92,of
93,payload
94,)
95,is
96,134
97,","
98,then
99,133
100,and
101,then
102,always
103,132
104,.
105,Also
106,first
107,two
108,frames
109,are
110,longer
111,then
112,other
113,frames
114,.
115,What
116,'s
117,going
118,on
119,here
120,?
