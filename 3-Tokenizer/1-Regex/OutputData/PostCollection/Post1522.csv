,0
0,You
1,can
2,use
3,the
4,psycopg2
5,.extensions.AsIs
6,to
7,pass
8,in
9,parameters
10,for
11,database
12,name
13,etc
14,.
15,As
16,said
17,"here:
http://initd.org/psycopg/docs/usage.html#the-problem-with-the-query-parameters
Warning Never, never, NEVER use Python string concatenation (+)"
18,or
19,string
20,parameters
21,interpolation
22,(%)
23,to
24,pass
25,variables
26,to
27,a
28,SQL
29,query
30,string
31,.
32,Not
33,even
34,at
35,gunpoint
36,.
37,Your
38,code
39,would
40,look
41,"like:
The conn.autocommit=True is there because you can't create a database inside a transaction.
EDIT: Note that you will still be vulnerable to SQL injection when using AsIs, but you can at least execute queries in the usual way (and CREATE DATABASE cannot be executed from multi-command string, so it would still fail for new_dbname = my_db;DROP DATABASE another_db;--)"
