I,retested,with,MySQL,specifying,ENGINE,=,MEMORY,and,it,doesn't,change,a,thing,(,still,200,ms,),.,Sqlite3,using,an,in-memory,db,gives,similar,timings,as,well,(,250,ms,),.,The,math,here,looks,correct,(,at,least,the,size,",",as,that's,how,big,the,sqlite,db,is,:,-,),I'm,just,not,buying,the,disk-causes-slowness,argument,as,there,is,every,indication,the,tables,are,in,memory,(,the,postgres,guys,all,warn,against,trying,too,hard,to,pin,tables,to,memory,as,they,swear,the,OS,will,do,it,better,than,the,programmer,),To,clarify,the,timings,",",the,Java,code,is,not,reading,from,disk,",",making,it,a,totally,unfair,comparison,if,Postgres,is,reading,from,the,disk,and,calculating,a,complicated,query,",",but,that's,really,besides,the,point,",",the,DB,should,be,smart,enough,to,bring,a,small,table,into,memory,and,precompile,a,stored,procedure,IMHO,.,UPDATE,(,in,response,to,the,first,comment,below,),:,I'm,not,sure,how,I'd,test,the,query,without,using,an,aggregation,function,in,a,way,that,would,be,fair,",",since,if,i,select,all,of,the,rows,it'll,spend,tons,of,time,serializing,and,formatting,everything,.,I'm,not,saying,that,the,slowness,is,due,to,the,aggregation,function,",",it,could,still,be,just,overhead,from,concurrency,",",integrity,",",and,friends,.,I,just,don't,know,how,to,isolate,the,aggregation,as,the,sole,independent,variable,.
