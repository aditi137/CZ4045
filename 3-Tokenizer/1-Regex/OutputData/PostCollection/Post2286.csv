,0
0,Your
1,diagnosis
2,appears
3,to
4,be
5,flawed
6,.
7,Using
8,the
9,timeit
10,module
11,you
12,'ll
13,find
14,that
15,using
16,addional
17,locals
18,is
19,in
20,fact
21,slower
22,","
23,but
24,only
25,by
26,the
27,smallest
28,of
29,margins
30,.
31,I
32,reduced
33,your
34,tests
35,to
36,the
37,essentials
38,to
39,reduce
40,"overhead:
The difference is so small as to be negligible. If you run this often enough f2 can win by the same margin. If you reverse the tests (run f2 first, then f1)"
41,","
42,the
43,outcomes
44,change
45,again
46,.
47,That
48,'s
49,because
50,there
51,is
52,practically
53,no
54,difference
55,.
56,The
57,two
58,functions
59,execute
60,the
61,exact
62,same
63,bytecodes
64,","
65,with
66,the
67,addition
68,of
69,two
70,STORE_FAST
71,and
72,LOAD_FAST
73,opcodes
74,for
75,f2
76,at
77,indices
78,22
79,","
80,47
81,","
82,50
83,and
84,53
85,.
86,The
87,STORE_FAST
88,and
89,LOAD_FAST
90,copy
91,across
92,a
93,pointer
94,between
95,the
96,stack
97,and
98,the
99,locals
100,array
101,","
102,both
103,pre
104,-allocated
105,structures
106,.
107,So
108,f2
109,is
110,doing
111,the
112,teensiest
113,more
114,work
115,than
116,f1
117,is
118,doing
119,.
120,Changing
121,the
122,sizes
123,of
124,the
125,inputs
126,is
127,not
128,making
129,a
130,difference
131,here
132,","
133,a
134,pointer
135,doesn
136,'t
137,get
138,'heavier'
139,if
140,the
141,referenced
142,object
143,is
144,bigger
145,.
