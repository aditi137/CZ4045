,0
0,In
1,the
2,context
3,of
4,a
5,model
6,I
7,'m
8,generating
9,","
10,I
11,at
12,one
13,point
14,need
15,to
16,generate
17,a
18,probability
19,distribution
20,from
21,a
22,an
23,array
24,of
25,real
26,numbers
27,.
28,I
29,'ll
30,leave
31,out
32,the
33,relevant
34,details
35,","
36,but
37,essentially
38,have
39,a
40,function
41,(we'll
42,just
43,call
44,it
45,"""f"""
46,for
47,now
48,"),"
49,that
50,generates
51,an
52,array
53,of
54,n
55,"floats:
Now, these values are proportional to probabilities I next need to use in a multinomial sampling procedure, so the obvious approach is simply this:
But this (sometimes)"
56,doesn
57,'t
58,work
59,!
60,Basically
61,the
62,sum
63,of
64,arr
65,/arr.sum()
66,ends
67,up
68,being
69,greater
70,than
71,1
72,.
73,In
74,principle
75,this
76,should
77,be
78,mathematically
79,impossible
80,","
81,but
82,I
83,'m
84,assuming
85,this
86,boils
87,down
88,to
89,a
90,floating
91,-point
92,precision
93,issue
94,.
95,Here
96,'s
97,a
98,trivial
99,example
100,of
101,how
102,this
103,can
104,happen
105,:
106,So
107,long
108,story
109,short
110,","
111,my
112,question
113,is
114,how
115,best
116,to
117,deal
118,with
119,this
120,.
121,I
122,can
123,cheat
124,by
125,simply
126,adding
127,a
128,very
129,small
130,number
131,to
132,the
133,sum
134,","
135,i
136,.e.:
137,But
138,this
139,is
140,really
141,hackish
142,","
143,and
144,I
145,fear
146,it
147,may
148,introduce
149,further
150,unwanted
151,precision
152,issues
153,.
154,Is
155,there
156,a
157,better
158,solution
159,?
