I,don't,see,any,reason,why,you,wouldn't,be,able,to,do,the,following,at,the,end,of,your,first,program,:,As,per,what,you,describe,",",your,text,variable,should,contain,all,the,text,",",and,your,regexp,should,then,be,able,to,filter,out,the,necessary,parts,from,that,.
