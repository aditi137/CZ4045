,0
0,The
1,problem
2,is
3,that
4,in
5,both
6,of
7,the
8,examples
9,you
10,point
11,to
12,","
13,load_module
14,()
15,does
16,not
17,add
18,the
19,loaded
20,module
21,to
22,sys
23,.modules.
24,Normally
25,","
26,it
27,should
28,do
29,so
30,(and
31,then
32,PyPy
33,works
34,like
35,CPython
36,).
37,If
38,load_module
39,()
40,does
41,not
42,add
43,the
44,module
45,to
46,sys
47,".modules,"
48,then
49,every
50,single
51,import a
52,will
53,call
54,load_module
55,()
56,again
57,and
58,return
59,a
60,new
61,copy
62,of
63,the
64,module
65,.
66,For
67,example
68,","
69,in
70,the
71,example
72,from
73,"python:Import module from memory:
This is documented in https://www.python.org/dev/peps/pep-0302/#id27.  The load_module()"
74,method
75,is
76,responsible
77,for
78,doing
79,more
80,checks
81,than
82,these
83,simple
84,examples
85,show
86,.
87,In
88,particular
89,","
90,note
91,this
92,line
93,(emphasis
94,in
95,the
96,original
97,):
98,Note
99,that
100,the
101,module
102,object
103,must
104,be
105,in
106,sys
107,.modules
108,before
109,the
110,loader
111,executes
112,the
113,module
114,code
115,.
116,So
117,","
118,the
119,fact
120,that
121,PyPy
122,behaves
123,differently
124,than
125,CPython
126,in
127,this
128,case
129,could
130,be
131,understood
132,as
133,a
134,behavior
135,difference
136,that
137,follows
138,from
139,code
140,that
141,fails
142,to
143,respect
144,the
145,docs
146,.
147,But
148,anyway
149,","
150,my
151,opinion
152,is
153,that
154,it
155,should
156,be
157,fixed
158,.
159,I
160,'ve
161,created
162,an
163,issue
164,at
165,https
166,://bitbucket.org/pypy/pypy/issues/2382/sysmeta_path-not-working-like-cpythons.
