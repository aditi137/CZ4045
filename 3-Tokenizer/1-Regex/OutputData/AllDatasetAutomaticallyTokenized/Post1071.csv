Personally
","
I'd
store
an
rrule
object
from
python-dateutil
(
http://labix.org/python-dateutil
)
rather
than
inventing
your
own
recurrence
format
.
Then
you
can
just
define
some
methods
that
use
rrule
.
"between(after, before)"
to
generate
instances
of
your
event
object
for
a
given
range
.
One
catch
though
","
dateutil's
rrule
object
doesn't
pickle
correctly
","
so
you
should
define
your
own
mechanism
of
serialising
the
object
to
the
database
.
I've
generally
gone
with
a
JSON
representation
of
the
keyword
arguments
for
instantiating
the
rrule
.
The
annoying
edge
case
is
that
if
you
want
to
store
stuff
like
'
2nd
Monday
of
the
month
'
","
you
have
to
do
additional
work
with
MO(2)
","
because
the
value
it
returns
isn't
useful
.
It's
hard
to
explain
","
but
you'll
see
the
problem
when
you
try
it
.
I'm
not
aware
of
any
efficient
way
to
find
all
eligible
events
within
a
range
though
","
you'll
have
to
load
in
all
the
Event
models
that
potentially
overlap
with
the
range
.
So
you'll
always
be
loading
in
potentially
more
data
than
you'll
eventually
use
.
Just
make
sure
relatively
smart
about
it
to
reduce
the
burden
.
Short
of
someone
adding
recurrence
handling
to
databases
themselves
","
I'm
not
aware
of
any
way
to
improve
this
.
