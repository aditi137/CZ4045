Your
issue
lies
in
your
post_save
hook
on
Product
.
When
you
save
a
Product
in
your
ProductAdmin
","
save_model()
is
called
and
then
save_related()
.
This
in
turn
calls
save_formset
with
a
formset
for
ProductMetricals
that
contains
a
key
to
a
ProductMetricals
that
is
now
deleted
.
It
is
now
invalid
(
since
you
deleted
it
with
your
save
on
Product
)
.
I
ran
into
a
similar
issue
with
deleting
on
an
inline
that
had
a
relationship
with
another
inline
in
the
admin
view
.
I
ended
up
setting
on_delete=models.SET_NULL
for
my
foreign
key
relationship
since
by
default
Django
cascade
deletes
.
Another
option
would
be
to
manually
override
the
formset
.
It
looks
similar
to
what
was
discussed
in
bug
#
11830
