My
script
fails
tests
when
working
with
SQLite
base
(
via
sqlalchemy
)
created
in
:
memory
:
and
passes
tests
when
working
with
a
base
created
with
physical
file
.
The
script
is
multi-threaded
.
I
know
it
is
not
the
best
idea
to
use
SQLite
with
multiple
threads
(
locking
","
etc.
)
","
but
I
use
SQLite
to
test
script's
DB
interface
only
.
When
I
use
:
memory
:
","
the
script
dies
complaining
that
there
is
no
table
:
The
testing
procedure
(
with
nose
)
is
as
follows
:
So
in
the
setup
I
do
create
the
database
and
the
columns
.
I
can
see
it
also
in
logs
(
echo=True
)
:
My
guess
was
that
when
I
create
the
base
in
thread
A
","
and
then
I
use
it
in
thread
B
","
then
B
starts
to
operate
on
the
base
before
it
was
actually
created
.
But
","
I
added
time.sleep(3)
after
create_all
and
it
didn't
work
.
And
","
as
mentioned
before
","
it
works
when
I
use
a
file
instead
of
:
memory
:
","
even
if
the
file
is
placed
on
virtual
partition
(
so
","
in
fact
in
memory
)
.
Any
idea
why
is
that
?
