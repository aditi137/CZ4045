Before
you
overwrite
the
same
line
again
you
need
to
clear
at
least
the
positions
where
the
dots
are
with
spaces
.
The
code
above
may
lead
to
some
brief
flicker
.
In
your
specific
case
it
is
sufficient
to
clear
the
line
when
n
%
index
becomes
0
:
Or
even
better
always
write
index-1
characters
:
Edit
1
:
Or
if
you
prefer
to
have
the
cursor
always
after
the
last
dot
:
Edit
2
:
Or
if
you
prefer
to
have
the
cursor
always
at
the
beginning
of
the
line
:
The
reason
is
that
your
shell
remembers
the
remaining
characters
of
the
previous
line
if
you
overwrite
just
the
first
part
of
it
.
